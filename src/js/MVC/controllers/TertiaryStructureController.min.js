var App=App||{},TertiaryStructureController=function(){function e(e,g,f){var d=this;d._models=e;d._views=g;d._controllers=f;d._views.forEach(function(c,e){c.fileUploaded.attach(function(a,b){a._model.addProtein(b.metaData,b.file)});c.fileUpdated.attach(function(a,b){c._model.clear();c.clear();a._model.addProtein(b.metaData,b.file)});c.colorChanged.attach(function(a,b){_.without(d._models,a._model)[0].setProteinColoring(b.color)});c.residueSelected.attach(function(a,b){a._model.selectResidue(b)});
c.residueDeselected.attach(function(a,b){a._model.deselectResidue(b)});c.modelRotated.attach(function(a,b){a._model.setRotation(b.rotation,!1);a=_.without(d._models,a._model)[0];a.isEmpty()&&a.setRotation(b.rotation,!0)});c.modelZoomed.attach(function(a,b){a._model.setZoom(b.zoom,!1);a=_.without(d._models,a._model)[0];a.isEmpty()&&a.setZoom(b.zoom,!0)});c.cameraChanged.attach(function(a,b){a._model.setZoom(b,!1);a=_.without(d._models,a._model)[0];a.isEmpty()&&(console.log(b),a.setCamera(b,!0))})});
f.proteinSelected.attach(function(c,e){d._views[h[e.semantic]].downloadPDB(e.protein)});ko.applyBindings({views:this._views},$("#molecularViewerTemplate")[0])}var h={left:0,right:1};e.prototype={};return e}();
