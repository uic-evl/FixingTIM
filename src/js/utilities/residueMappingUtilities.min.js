var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var e=a.length,g=0;g<e;g++){var f=a[g];if(c.call(d,f,g,a))return{i:g,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,d,e){if(c){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var g=a[e];g in d||(d[g]={});d=d[g]}a=a[a.length-1];e=d[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var g=d++;return{value:c(g,a[g]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");var App=App||{};
function ResidueMappingUtility(){function a(a){var b=_.find(m,function(b){return a===b.abbr||a===b.name});return q[b?b.sideClass:"gap"]}function c(a){var b=_.find(m,function(b){return a===b.abbr||a===b.name});return r[b?b.polarity:"gap"]}function d(a,b){b=_.keys(b);return"gap"===_.find(m,function(b){return b.abbr===a}).name?k.gap:-1<_.indexOf(b,a)?k.match:k.mismatch}function e(a){return t.all}function g(a){f.legend=document.getElementById(a);f.legend_width=f.legend.clientWidth;f.legend_height=2*Math.max.apply(null,
$(".view").map(function(){return $(this).height()}).get())/2;50>f.legend_height&&(f.legend_height=50);f.legend_svg[a]=d3.select(f.legend).append("svg").attr("width",f.legend_width)}var f={legend_svg:{}},l={code:"#fbfff4",rgba:[251,255,244,255]},n={code:"#ff3100",rgba:[255,49,0,255]},u={code:"#ff8700",rgba:[255,135,0,255]},v={code:"#0772a1",rgba:[7,114,161,255]},w={code:"#00b74a",rgba:[0,183,74,255]},x={code:"#fddbc7",rgba:[253,219,199,255]},p={code:"#A9A9A9",rgba:[128,128,128,255]},q={basic:l,aliphatic:n,
aromatic:v,hydroxyl:u,sulfuric:u,cyclic:w,acid:x,amide:x,gap:p},r={basic:l,nonpolar:n,polar:v,acidic:w,gap:p},k={match:n,mismatch:l,gap:p},t={all:l},m=[{abbr:"A",sideClass:"aliphatic",polarity:"nonpolar",name:"ALA"},{abbr:"R",sideClass:"basic",polarity:"basic",name:"ARG"},{abbr:"N",sideClass:"amide",polarity:"polar",name:"ASN"},{abbr:"D",sideClass:"acid",polarity:"acidic",name:"ASP"},{abbr:"C",sideClass:"sulfuric",polarity:"nonpolar",name:"CYS"},{abbr:"E",sideClass:"acid",polarity:"acidic",name:"GLU"},
{abbr:"Q",sideClass:"amide",polarity:"polar",name:"GLN"},{abbr:"G",sideClass:"aliphatic",polarity:"nonpolar",name:"GLY"},{abbr:"H",sideClass:"aromatic",polarity:"basic",name:"HIS"},{abbr:"I",sideClass:"aliphatic",polarity:"nonpolar",name:"ILE"},{abbr:"L",sideClass:"aliphatic",polarity:"nonpolar",name:"LEU"},{abbr:"K",sideClass:"basic",polarity:"basic",name:"LYS"},{abbr:"M",sideClass:"sulfuric",polarity:"nonpolar",name:"MET"},{abbr:"F",sideClass:"aromatic",polarity:"nonpolar",name:"PHE"},{abbr:"P",
sideClass:"cyclic",polarity:"nonpolar",name:"PRO"},{abbr:"S",sideClass:"hydroxyl",polarity:"polar",name:"SER"},{abbr:"T",sideClass:"hydroxyl",polarity:"polar",name:"THR"},{abbr:"W",sideClass:"aromatic",polarity:"nonpolar",name:"TRP"},{abbr:"Y",sideClass:"aromatic",polarity:"polar",name:"TYR"},{abbr:"V",sideClass:"aliphatic",polarity:"nonpolar",name:"VAL"},{abbr:"X",sideClass:"gap",polarity:"gap",name:"gap"},{abbr:".",sideClass:"gap",polarity:"gap",name:"gap"},{abbr:"~",sideClass:"gap",polarity:"gap",
name:"gap"},{abbr:"-",sideClass:"gap",polarity:"gap",name:"gap"}],h={};return{createColorLegend:function(a){var b="3D"===a?"tertiaryColorLegend":"familyColorLegend";f.legend_svg[b]||g(b);var c=_.toPairs(h[a]),d=f.legend_width/c.length;a=f.legend_height/2;var e=f.legend_svg[b].selectAll(".legendElement").data(c);e.enter().append("g").append("rect").merge(e).attr("class","legendElement").attr("width",d).attr("height",a).attr("x",function(a,b){return d*b+1}).attr("y",function(a){return 1}).style("fill",
function(a){return a[1].code});b=f.legend_svg[b].selectAll(".legendText").data(c);b.enter().append("g").append("text").merge(b).attr("class","legendText").text(function(a){return a[0]}).attr("x",function(a,b){return d*b+5}).attr("y",a+App.textUtilities.fontSizeToPixels("10pt"));e.exit().remove();b.exit().remove()},getColor:function(f,b){switch(f.trim()){default:return h[b]=q,a;case "Side Chain Polarity":return h[b]=r,c;case "Selections Only":return h[b]=t,e;case "Frequency (Family Viewer)":return h[b]=
k,d}}}};
