var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,b){a instanceof String&&(a=String(a));for(var c=a.length,d=0;d<c;d++){var f=a[d];if(e.call(b,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,b){a!=Array.prototype&&a!=Object.prototype&&(a[e]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,b,c){if(e){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var d=a[c];d in b||(b[d]={});b=b[d]}a=a[a.length-1];c=b[a];e=e(c);e!=c&&null!=e&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");var App=App||{};
(function(){document.addEventListener("DOMContentLoaded",function(){App.fileUtilities=new FileUtilities;App.dataUtilities=new DatabaseMappingUtils;App.residueMappingUtility=new ResidueMappingUtility;var a=new ProteinFamilyModel,e=new ProteinFamilyView(a,{id:"trendImageViewer"}),b=new ProteinFamilyController(a,e),c=new ProteinModel,d=new ProteinModel,f=new TertiaryStructureView(c,{id:"molecularViewerA",position:"left"}),h=new TertiaryStructureView(d,{id:"molecularViewerB",position:"right"});new TertiaryStructureController([c,
d],[f,h],b);b=new PrimaryStructureView(c,{id:"leftMolecularViewer-Sequence",position:"left"});d=new PrimaryStructureView(d,{id:"rightMolecularViewer-Sequence",position:"right"});new PrimaryStructureController({},[b,d]);var g=new FilteringMenuModel({items:["Side Chain Class","Side Chain Polarity","Frequency (Family Viewer)"]});c=new FilteringMenuView(g,{list:$("#coloring_list")});new FilteringMenuController({menu:"coloring",models:{list:g,connected:[a]},view:c,cb:function(a,b){a.setProteinColoring(b);
App.residueMappingUtility.createColorLegend()}});g=new FilteringMenuModel({items:"Set Protein ...;Initial Ordering;Residue Frequency;Weighted Edit Distance;Residue Commonality with;Normalized Residue Commonality with".split(";")});var k=new FilteringMenuView(g,{list:$("#sorting_list")});new FilteringMenuController({menu:"sorting",models:{list:g,connected:[a]},view:k,cb:function(a,b){"set_protein"===b?a.setSortingProtein():a.setProteinSorting(b)}});$("#initialModal").modal().on("shown.bs.modal",function(a){var b=
$(this);App.fileUtilities.initialUploadSetup(b,function(a,c){switch(a.extension){case "pdb":f.file_loaded(a,c);break;case "msf":case "fa":e.file_loaded(c,a.extension)}b.find("#fileUploadInput").fileupload("destroy");$("#initialModal").modal("hide")});b.find("#initialDataForm").on("submit",function(){var a=$(this).serialize().split("=")[1];App.fileUtilities.ajaxFromRCMB(a,function(c){c&&(c.name=a+".pdb",b.find("#fileUploadInput").fileupload("add",{files:c}));b.find("#protein-name").val("")});return!1})});
k.show();c.show();f.show();h.show();e.show();b.show();d.show()})})();
