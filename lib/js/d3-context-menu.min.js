(function(a,c){if("object"===typeof module&&module.exports)module.exports=function(a){a.contextMenu=c(a);return a.contextMenu};else if("function"===typeof define&&define.amd){try{var b=require("d3")}catch(d){b=a.d3}b.contextMenu=c(b);define([],function(){return b.contextMenu})}else a.d3&&(a.d3.contextMenu=c(a.d3))})(this,function(a){return function(c,b){if("function"===typeof b)var d=b;else{b=b||{};d=b.onOpen;var e=b.onClose}a.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class",
"d3-context-menu");a.select("body").on("click.d3-context-menu",function(){a.select(".d3-context-menu").style("display","none");e&&e()});return function(b,f){var g=this;a.selectAll(".d3-context-menu").html("");a.selectAll(".d3-context-menu").on("contextmenu",function(b){a.select(".d3-context-menu").style("display","none");a.event.preventDefault();a.event.stopPropagation()}).append("ul").selectAll("li").data("function"===typeof c?c.call(this,b):c).enter().append("li").attr("class",function(a){var b=
"";a.divider&&(b+=" is-divider");a.disabled&&(b+=" is-disabled");a.action||(b+=" is-header");return b}).html(function(a){if(a.divider)return"<hr>";a.title||console.error("No title attribute set. Check the spelling of your options.");return"string"===typeof a.title?a.title:a.title(b)}).on("click",function(c,d){!c.disabled&&c.action&&(c.action(g,b,f),a.select(".d3-context-menu").style("display","none"),e&&e())});d&&!1===d(b,f)||(a.select(".d3-context-menu").style("left",a.event.pageX-2+"px").style("top",
a.event.pageY-2+"px").style("display","block"),a.event.preventDefault(),a.event.stopPropagation())}}});
